# 希尔排序
![ShellSort](https://upload.wikimedia.org/wikipedia/commons/d/d8/Sorting_shellsort_anim.gif)

## 算法简介
希尔排序，也称递减增量排序算法，是插入排序的一种更高效的改进版本。希尔排序是非稳定排序算法。
希尔排序是基于插入排序的以下两点性质而提出改进方法的：
  - 插入排序在对几乎已经排好序的数据操作时，效率高，即可以达到线性排序的效率
  - 但插入排序一般来说是低效的，因为插入排序每次只能将数据移动一位

希尔排序的思想是使数组中任意间隔为h的元素都是有序的。这样的数组被称为*h有序数组*。  
![h-sorted](http://algs4.cs.princeton.edu/21elementary/images/h-sorted.png)  
实现希尔排序的一种方法是对于每个h，用插入排序将h个子数组独立的排序。  
希尔排序更高效的原因是它权衡了子数组的规模和有序性。排序之初，各个子数组都很短，排序之后子数组都是部分有序的，这两种情况都很适合插入排序。

## 步长选择
步长的选择是希尔排序的重要部分。只要最终步长为1任何步长序列都可以工作。算法最开始以一定的步长进行排序。然后会继续以一定步长进行排序，最终算法以步长为1进行排序。当步长为1时，算法变为插入排序，这就保证了数据一定会被排序。  
如何选择递增序列呢？要回答这个问题并不简单。算法的性能不仅取决于h，还取决于h之间的数学性质，比如它们的公因子等。在[维基百科](https://zh.wikipedia.org/wiki/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F)上对步长选择的一些介绍。  
![详细轨迹](http://algs4.cs.princeton.edu/21elementary/images/shell.png) 

## 场景探讨
有经验的程序员有时候会选择希尔排序，因为对于中等大小的数组它的运行时间是可以接受的。它的代码量很小，且不需要额外的内存空间。我们会看到更加高效的算法，但对于很大的N，它们可能只会比希尔排序快两倍（可还达不到），而且更加复杂。  
如果你需要解决一个排序问题而又没有系统排序函数可用（例如直接接触硬件或是运行于嵌入式系统中的代码），可以先希尔排序，然后再考虑是否值得将它替换为更加复杂的排序算法。

## Links
- [维基百科](https://zh.wikipedia.org/wiki/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F)
- [白话经典算法系列之三 希尔排序的实现](http://blog.csdn.net/morewindows/article/details/6668714)
